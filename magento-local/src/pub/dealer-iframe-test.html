<!DOCTYPE html>
<html>
<head>
    <title>Dealer Locator Iframe Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        h1 {
            color: #333;
            text-align: center;
        }
        
        .iframe-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .iframe-wrapper {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 75%; /* 4:3 aspect ratio */
            margin-top: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .iframe-wrapper.full-height {
            padding-bottom: 0;
            height: 800px;
        }
        
        iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
        
        .code-block {
            background: #f8f8f8;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin-top: 15px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
        }
        
        h2 {
            color: #555;
            margin-top: 30px;
        }
        
        .note {
            background: #fffbdd;
            border-left: 4px solid #ffeb3b;
            padding: 10px 15px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <h1>Dealer Locator Iframe Embedding Test</h1>
    
    <div class="note">
        <strong>Note:</strong> This page demonstrates different ways to embed the dealer locator using iframes. 
        Make sure your server is running and accessible at the URLs shown below.
    </div>
    
    <h2>1. Full Page Embed (Responsive)</h2>
    <div class="iframe-container">
        <p>This embed uses a responsive aspect ratio (4:3) that scales with the container width:</p>
        <div class="iframe-wrapper">
            <iframe 
                src="/dealerlocator/map/index/" 
                title="Dealer Locator Map"
                allowfullscreen>
            </iframe>
        </div>
        <div class="code-block">
&lt;iframe 
    src="/dealerlocator/map/index/" 
    title="Dealer Locator Map"
    width="100%" 
    height="600"
    style="border: none;"
    allowfullscreen&gt;
&lt;/iframe&gt;
        </div>
    </div>
    
    <h2>2. Fixed Height Embed</h2>
    <div class="iframe-container">
        <p>This embed uses a fixed height of 800px, suitable for desktop displays:</p>
        <div class="iframe-wrapper full-height">
            <iframe 
                src="/dealerlocator/map/index/" 
                title="Dealer Locator Map - Full Height"
                allowfullscreen>
            </iframe>
        </div>
        <div class="code-block">
&lt;iframe 
    src="/dealerlocator/map/index/" 
    title="Dealer Locator Map"
    width="100%" 
    height="800"
    style="border: none;"
    allowfullscreen&gt;
&lt;/iframe&gt;
        </div>
    </div>
    
    <h2>3. Cross-Domain Embed Example</h2>
    <div class="iframe-container">
        <p>For embedding on external websites, use the full URL:</p>
        <div class="code-block">
&lt;iframe 
    src="https://yourmagento.com/dealerlocator/map/index/" 
    title="Dealer Locator Map"
    width="100%" 
    height="600"
    style="border: none;"
    allowfullscreen&gt;
&lt;/iframe&gt;
        </div>
        <div class="note">
            <strong>Important:</strong> For cross-domain embedding to work properly:
            <ul>
                <li>Your Magento instance must be accessible via HTTPS</li>
                <li>CORS headers may need to be configured on the server</li>
                <li>X-Frame-Options header must allow embedding (not set to DENY or SAMEORIGIN)</li>
                <li>Content Security Policy (CSP) must permit framing</li>
            </ul>
        </div>
    </div>
    
    <h2>4. Embed with URL Parameters (Future Enhancement)</h2>
    <div class="iframe-container">
        <p>You could extend the dealer locator to accept URL parameters for customization:</p>
        <div class="code-block">
&lt;!-- Examples of potential URL parameters --&gt;
&lt;iframe src="/dealerlocator/map/index/?tags=retail,wholesale"&gt;&lt;/iframe&gt;
&lt;iframe src="/dealerlocator/map/index/?lat=40.7128&lng=-74.0060&zoom=12"&gt;&lt;/iframe&gt;
&lt;iframe src="/dealerlocator/map/index/?radius=100"&gt;&lt;/iframe&gt;
&lt;iframe src="/dealerlocator/map/index/?style=minimal"&gt;&lt;/iframe&gt;
        </div>
    </div>
    
    <h2>5. Responsive Container Example</h2>
    <div class="iframe-container">
        <p>Complete HTML for a responsive iframe container:</p>
        <div class="code-block">
&lt;style&gt;
.dealer-map-container {
    position: relative;
    width: 100%;
    height: 0;
    padding-bottom: 75%; /* 4:3 Aspect Ratio */
}

.dealer-map-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: none;
}

/* For mobile devices */
@media (max-width: 768px) {
    .dealer-map-container {
        padding-bottom: 100%; /* 1:1 Aspect Ratio on mobile */
    }
}
&lt;/style&gt;

&lt;div class="dealer-map-container"&gt;
    &lt;iframe 
        src="/dealerlocator/map/index/" 
        title="Find a Dealer Near You"
        allowfullscreen&gt;
    &lt;/iframe&gt;
&lt;/div&gt;
        </div>
    </div>
    
    <h2>Testing Notes</h2>
    <div class="iframe-container">
        <ul>
            <li><strong>Local Testing:</strong> Access this file at <code>http://localhost/dealer-iframe-test.html</code></li>
            <li><strong>HTTPS Testing:</strong> For production, use <code>https://yourdomain.com/dealer-iframe-test.html</code></li>
            <li><strong>Console Errors:</strong> Open browser developer tools to check for any iframe loading errors</li>
            <li><strong>Permissions:</strong> Check browser console for X-Frame-Options or CSP violations</li>
        </ul>
    </div>
    
    <script>
        // Check if iframes are loading successfully
        document.addEventListener('DOMContentLoaded', function() {
            const iframes = document.querySelectorAll('iframe');
            
            iframes.forEach((iframe, index) => {
                iframe.addEventListener('load', function() {
                    console.log(`Iframe ${index + 1} loaded successfully`);
                });
                
                iframe.addEventListener('error', function(e) {
                    console.error(`Iframe ${index + 1} failed to load:`, e);
                });
            });
        });
    </script>
</body>
</html>